\documentclass[a4j]{jarticle}
\title{進化的アルゴリズムレポート \ 課題3}
\author{情報科学類, 3年, 2クラス, 学籍番号：201311403 \ 山岡 洸瑛, Yamaoka
Kouei}
\西暦
\date{\today}

%余白設定
\setlength{\topmargin}{20mm}
\addtolength{\topmargin}{-1in}
\setlength{\oddsidemargin}{20mm}
\addtolength{\oddsidemargin}{-1in}
\setlength{\evensidemargin}{15mm}
\addtolength{\evensidemargin}{-1in}
\setlength{\textwidth}{170mm}
\setlength{\textheight}{254mm}
\setlength{\headsep}{0mm}
\setlength{\headheight}{0mm}
\setlength{\topskip}{0mm}


\def\pgfsysdriver{pgfsys-dvipdfmx.def}

\usepackage{ascmac}
\usepackage{here}
\usepackage{tikz}
\usetikzlibrary{trees}
\thispagestyle{empty}
\usepackage{bm}

\usepackage{listings,jlisting}
\renewcommand{\lstlistingname}{リスト}
\lstset{
basicstyle=\ttfamily\scriptsize,
commentstyle=\textit,
classoffset=1,
keywordstyle=\bfseries,
frame=tRBl,
framesep=5pt,
showstringspaces=false,
numbers=left,
stepnumber=1,
numberstyle=\tiny,
tabsize=2
}

\begin{document}
\maketitle
\section*{進化的戦略(ES)によるグラフ色塗り問題の解決}

\subsection*{ESのアルゴリズムとデータ構造}
アルゴリズムは示されたものと同様のため省略する．ソートアルゴリズムにはC
言語の標準ライブラリに含まれるqsort関数を使用した．違反点数は配列サイズを1
つ大きく用意し，配列最後に格納した．

\section*{実験}
\subsection*{実験条件(各種パラメータ)}
以下に各種パラメータの値を示す．なお，乱数のシード値は509とした．

\subsection*{問題サイズ(ノード数)}
問題サイズは疎結合，密結合共に30, 60, 90, 120, 150とした．

\subsection*{世代の上限}
世代の上限は1000とした．これは表\ref{13}から表\ref{214}より，充分大きな値として適切であ
ると考えたためである．

\subsection*{$\mu, \lambda$の値の調整}
$\mu, \lambda$の値を調整する．調整は$\mu. \lambda$を変えながら．各結合，各問題サイズ，($\mu,
\lambda$)-ES，($\mu + \lambda$)-ESの組み合わせ計20通りそれぞれについて10
回ずつ連続して計算を行い，その成功率によって行う．成功率は表\ref{13}から
表\ref{214}にまとめた．表の数字はそれぞれ成功率/成功した場合の平均世代数
を表している．なお，平均世代数は小数点以下を切り捨てている．

\begin{table}[htb]
 \begin{center}
  \begin{tabular}[tb]{|c||c|c||c|c|} \hline
   $\mu = 100, \lambda = 300$& \multicolumn{2}{c||}{疎結合問題} &
   \multicolumn{2}{c|}{密結合問題} \\ \cline{2-5}
   問題サイズN& ($\mu, \lambda$)-ES& ($\mu + \lambda$)-ES& ($\mu, \lambda$)-ES&
   ($\mu + \lambda$)-ES \\ \hline \hline
   N = 30& 100\% / 30世代& 100\% / 18世代& 100\% / 31世代& 100\% / 26世
   代\\ \hline
   N = 60& 30 / 301& 20 / 210& 100 / 83& 100 / 62\\ \hline
   N = 90& 10 / 387& 0 / 0& 100 / 136& 100 / 106\\ \hline
   N = 120& 0 / 0&0 / 0 & 100 / 211& 100 / 151\\ \hline
   N = 150& 0 / 0&0 / 0& 100 / 271& 100 / 187\\ \hline
  \end{tabular}
  \caption{$\mu = 100, \lambda = 300$の場合の実行結果}
  \label{13}
 \end{center}
\end{table}

\begin{table}[htb]
 \begin{center}
  \begin{tabular}[tb]{|c||c|c||c|c|} \hline
   $\mu = 100, \lambda = 400$& \multicolumn{2}{c||}{疎結合問題} &
   \multicolumn{2}{c|}{密結合問題} \\ \cline{2-5}
   問題サイズN& ($\mu, \lambda$)-ES& ($\mu + \lambda$)-ES& ($\mu, \lambda$)-ES&
   ($\mu + \lambda$)-ES \\ \hline \hline
   N = 30& 100\% / 22世代& 70\% / 18世代& 100\% / 23世代& 100\% / 22世代\\ \hline
   N = 60& 20 / 83& 40 / 200 & 100 / 64& 100 / 56\\ \hline
   N = 90& 0 / 0 &0 / 0 & 100 / 104& 100 / 89\\ \hline
   N = 120& 0 / 0 &0 / 0 & 100 / 147& 100 / 133\\ \hline
   N = 150& 0 / 0 &0 / 0 & 100 / 191& 100 / 165\\ \hline
  \end{tabular}
  \caption{$\mu = 100, \lambda = 400$の場合の実行結果}
  \label{14}
 \end{center}
\end{table}

\begin{table}[htb]
 \begin{center}
  \begin{tabular}[tb]{|c||c|c||c|c|} \hline
   $\mu = 100, \lambda = 500$& \multicolumn{2}{c||}{疎結合問題} &
   \multicolumn{2}{c|}{密結合問題} \\ \cline{2-5}
   問題サイズN& ($\mu, \lambda$)-ES& ($\mu + \lambda$)-ES& ($\mu, \lambda$)-ES&
   ($\mu + \lambda$)-ES \\ \hline \hline
   N = 30& 90\% / 24世代& 100\% / 18世代& 100\% / 23世代& 100\% / 18世代\\ \hline
   N = 60& 20 / 103& 10 / 302& 100 / 53& 100 / 50\\ \hline
   N = 90& 0 / 0& 10 / 103& 100 / 89& 100 / 82\\ \hline
   N = 120& 0 / 0& 0 / 0& 100 / 134& 100 / 119\\ \hline
   N = 150& 0 / 0& 0 / 0 & 100 / 165& 100 / 153\\ \hline
  \end{tabular}
  \caption{$\mu = 100, \lambda = 500$の場合の実行結果}
  \label{15}
 \end{center}
\end{table}

\begin{table}[htb]
 \begin{center}
  \begin{tabular}[tb]{|c||c|c||c|c|} \hline
   $\mu = 100, \lambda = 600$& \multicolumn{2}{c||}{疎結合問題} &
   \multicolumn{2}{c|}{密結合問題} \\ \cline{2-5}
   問題サイズN& ($\mu, \lambda$)-ES& ($\mu + \lambda$)-ES& ($\mu, \lambda$)-ES&
   ($\mu + \lambda$)-ES \\ \hline \hline
   N = 30& 100\% / 18世代& 100\% / 18世代& 100\% / 19世代& 100\% / 18世
   代\\ \hline
   N = 60& 50 / 68& 30 / 52& 100 / 48& 100 / 48\\ \hline
   N = 90& 0 / 0&0 / 0 & 100 / 79& 100 / 78\\ \hline
   N = 120& 0 / 0&0 / 0 & 100 / 113& 100 / 108\\ \hline
   N = 150& 0 / 0&0 / 0 & 100 / 140& 100 / 139\\ \hline
  \end{tabular}
  \caption{$\mu = 100, \lambda = 600$の場合の実行結果}
  \label{16}
 \end{center}
\end{table}

\begin{table}[htb]
 \begin{center}
  \begin{tabular}[tb]{|c||c|c||c|c|} \hline
   $\mu = 100, \lambda = 700$& \multicolumn{2}{c||}{疎結合問題} &
   \multicolumn{2}{c|}{密結合問題} \\ \cline{2-5}
   問題サイズN& ($\mu, \lambda$)-ES& ($\mu + \lambda$)-ES& ($\mu, \lambda$)-ES&
   ($\mu + \lambda$)-ES \\ \hline \hline
   N = 30& 100\% / 13世代& 90\% / 32世代& 100\% / 17世代& 100\% / 16世代\\ \hline
   N = 60& 40 / 51&20 / 158 & 100 / 43& 100 / 42\\ \hline
   N = 90& 0 / 0&10 / 88 & 100 / 72& 100 / 70\\ \hline
   N = 120& 0 / 0&0 / 0 & 100 / 106& 100 / 102\\ \hline
   N = 150& 0 / 0& 0 / 0 & 100 / 138& 100 / 129\\ \hline
  \end{tabular}
  \caption{$\mu = 100, \lambda = 700$の場合の実行結果}
  \label{17}
 \end{center}
\end{table}

\begin{table}[htb]
 \begin{center}
  \begin{tabular}[tb]{|c||c|c||c|c|} \hline
   $\mu = 200, \lambda = 600$& \multicolumn{2}{c||}{疎結合問題} &
   \multicolumn{2}{c|}{密結合問題} \\ \cline{2-5}
   問題サイズN& ($\mu, \lambda$)-ES& ($\mu + \lambda$)-ES& ($\mu, \lambda$)-ES&
   ($\mu + \lambda$)-ES \\ \hline \hline
   N = 30& 100\% / 25世代& 100\% / 29世代& 100\% / 31世代& 100\% / 25世
   代\\ \hline
   N = 60& 50 / 150& 20 / 57& 100 / 76& 100 / 60\\ \hline
   N = 90& 10 / 356&0 / 0 & 100 / 128& 100 / 96\\ \hline
   N = 120& 0 / 0&0 / 0 & 100 / 207& 100 / 144\\ \hline
   N = 150& 0 / 0&0 / 0 & 100 / 267& 100 / 182\\ \hline
  \end{tabular}
  \caption{$\mu = 200, \lambda = 600$の場合の実行結果}
  \label{26}
 \end{center}
\end{table}

\begin{table}[htb]
 \begin{center}
  \begin{tabular}[tb]{|c||c|c||c|c|} \hline
   $\mu = 200, \lambda = 700$& \multicolumn{2}{c||}{疎結合問題} &
   \multicolumn{2}{c|}{密結合問題} \\ \cline{2-5}
   問題サイズN& ($\mu, \lambda$)-ES& ($\mu + \lambda$)-ES& ($\mu, \lambda$)-ES&
   ($\mu + \lambda$)-ES \\ \hline \hline
   N = 30& 100\% / 20世代& 100\% / 18世代& 100\% / 24世代& 100\% / 21世
   代\\ \hline
   N = 60& 50 / 77&20 / 108 & 100 / 64& 100 / 55\\ \hline
   N = 90& 50 / 184&0 / 0 & 100 / 110& 100 / 95\\ \hline
   N = 120& 0 / 0&0 / 0 & 100 / 161& 100 / 123\\ \hline
   N = 150& 0 / 0&0 / 0 & 100 / 213& 100 / 170\\ \hline
  \end{tabular}
  \caption{$\mu = 200, \lambda = 700$の場合の実行結果}
  \label{27}
 \end{center}
\end{table}

\begin{table}[htb]
 \begin{center}
  \begin{tabular}[tb]{|c||c|c||c|c|} \hline
   $\mu = 200, \lambda = 800$& \multicolumn{2}{c||}{疎結合問題} &
   \multicolumn{2}{c|}{密結合問題} \\ \cline{2-5}
   問題サイズN& ($\mu, \lambda$)-ES& ($\mu + \lambda$)-ES& ($\mu, \lambda$)-ES&
   ($\mu + \lambda$)-ES \\ \hline \hline
   N = 30& 100\% / 18世代& 100\% / 23世代& 100\% / 22世代& 100\% / 20世
   代\\ \hline
   N = 60& 40 / 89& 30 / 85& 100 / 58& 100 / 50\\ \hline
   N = 90& 30 / 161& 0 / 0& 100 / 98& 100 / 85\\ \hline
   N = 120& 10 / 667& 0 / 0& 100 / 139& 100 / 123\\ \hline
   N = 150& 0 / 0& 0 / 0& 100 / 181& 100 / 156\\ \hline
  \end{tabular}
  \caption{$\mu = 200, \lambda = 800$の場合の実行結果}
  \label{28}
 \end{center}
\end{table}

\begin{table}[htb]
 \begin{center}
  \begin{tabular}[tb]{|c||c|c||c|c|} \hline
   $\mu = 200, \lambda = 900$& \multicolumn{2}{c||}{疎結合問題} &
   \multicolumn{2}{c|}{密結合問題} \\ \cline{2-5}
   問題サイズN& ($\mu, \lambda$)-ES& ($\mu + \lambda$)-ES& ($\mu, \lambda$)-ES&
   ($\mu + \lambda$)-ES \\ \hline \hline
   N = 30& 100\% / 17世代& 100\% / 14世代& 100\% / 20世代& 100\% / 20世
   代\\ \hline
   N = 60& 30 / 62&50 / 177 & 100 / 52& 100 / 49\\ \hline
   N = 90& 20 / 107&0 / 0& 100 / 89& 100 / 83\\ \hline
   N = 120& 0 / 0&0 / 0 & 100 / 124& 100 / 111\\ \hline
   N = 150& 0 / 0&0 / 0 & 100 / 172& 100 / 147\\ \hline
  \end{tabular}
  \caption{$\mu = 200, \lambda = 900$の場合の実行結果}
  \label{29}
 \end{center}
\end{table}
\begin{table}[htb]
 \begin{center}
  \begin{tabular}[tb]{|c||c|c||c|c|} \hline
   $\mu = 200, \lambda = 1000$& \multicolumn{2}{c||}{疎結合問題} &
   \multicolumn{2}{c|}{密結合問題} \\ \cline{2-5}
   問題サイズN& ($\mu, \lambda$)-ES& ($\mu + \lambda$)-ES& ($\mu, \lambda$)-ES&
   ($\mu + \lambda$)-ES \\ \hline \hline
   N = 30& 100\% / 16世代& 100\% / 21世代& & \\ \hline
   N = 60& 40 / 51&50 / 71 & & \\ \hline
   N = 90& 10 / 70&0 / 0 & & \\ \hline
   N = 120& 0 / 0 &0 / 0 & & \\ \hline
   N = 150& 0 / 0&0 / 0 & & \\ \hline
  \end{tabular}
  \caption{$\mu = 200, \lambda = 1000$の場合の実行結果}
  \label{210}
 \end{center}
\end{table}

\begin{table}[htb]
 \begin{center}
  \begin{tabular}[tb]{|c||c|c||c|c|} \hline
   $\mu = 200, \lambda = 1100$& \multicolumn{2}{c||}{疎結合問題} &
   \multicolumn{2}{c|}{密結合問題} \\ \cline{2-5}
   問題サイズN& ($\mu, \lambda$)-ES& ($\mu + \lambda$)-ES& ($\mu, \lambda$)-ES&
   ($\mu + \lambda$)-ES \\ \hline \hline
   N = 30& 100\% / 14世代& 100\% / 25世代& 100\% / 18世代& 100\% / 17世
   代\\ \hline
   N = 60& 60 / 298& 40 / 248& 100 / 50& 100 / 44\\ \hline
   N = 90& 20 / 186&20 / 250 & 100 / 76& 100 / 74\\ \hline
   N = 120& 0 / 0&0 / 0 & 100 / 111& 100 / 104\\ \hline
   N = 150& 0 / 0&0 / 0 & 100 / 144& 100 / 138\\ \hline
  \end{tabular}
  \caption{$\mu = 200, \lambda = 1100$の場合の実行結果}
  \label{211}
 \end{center}
\end{table}

\begin{table}[htb]
 \begin{center}
  \begin{tabular}[tb]{|c||c|c||c|c|} \hline
   $\mu = 200, \lambda = 1200$& \multicolumn{2}{c||}{疎結合問題} &
   \multicolumn{2}{c|}{密結合問題} \\ \cline{2-5}
   問題サイズN& ($\mu, \lambda$)-ES& ($\mu + \lambda$)-ES& ($\mu, \lambda$)-ES&
   ($\mu + \lambda$)-ES \\ \hline \hline
   N = 30& 100\% / 13世代& 100\% / 14世代& & \\ \hline
   N = 60& 30 / 53& 10 / 135& & \\ \hline
   N = 90& 20 / 107&0 / 0 & & \\ \hline
   N = 120& 0 / 0&0 / 0 & & \\ \hline
   N = 150& 0 / 0&0 / 0 & & \\ \hline
  \end{tabular}
  \caption{$\mu = 200, \lambda = 1200$の場合の実行結果}
  \label{212}
 \end{center}
\end{table}

\begin{table}[htb]
 \begin{center}
  \begin{tabular}[tb]{|c||c|c||c|c|} \hline
   $\mu = 200, \lambda = 1300$& \multicolumn{2}{c||}{疎結合問題} &
   \multicolumn{2}{c|}{密結合問題} \\ \cline{2-5}
   問題サイズN& ($\mu, \lambda$)-ES& ($\mu + \lambda$)-ES& ($\mu, \lambda$)-ES&
   ($\mu + \lambda$)-ES \\ \hline \hline
   N = 30& 100\% / 15世代& 100\% / 13世代& & \\ \hline
   N = 60& 40 / 78& 40 / 336& & \\ \hline
   N = 90& 10 / 140& 10 / 233& & \\ \hline
   N = 120& 0 / 0& 0 / 0& & \\ \hline
   N = 150& 0 / 0& 0 / 0& & \\ \hline
  \end{tabular}
  \caption{$\mu = 200, \lambda = 1300$の場合の実行結果}
  \label{213}
 \end{center}
\end{table}

\clearpage
\begin{table}[htb]
 \begin{center}
  \begin{tabular}[tb]{|c||c|c||c|c|} \hline
   $\mu = 200, \lambda = 1400$& \multicolumn{2}{c||}{疎結合問題} &
   \multicolumn{2}{c|}{密結合問題} \\ \cline{2-5}
   問題サイズN& ($\mu, \lambda$)-ES& ($\mu + \lambda$)-ES& ($\mu, \lambda$)-ES&
   ($\mu + \lambda$)-ES \\ \hline \hline
   N = 30& 100\% / 14世代& 100\% / 12世代& & \\ \hline
   N = 60& 50 / 46& 10 / 55& & \\ \hline
   N = 90& 0 / 0& 0 / 0& & \\ \hline
   N = 120& 0 / 0& 0 / 0& & \\ \hline
   N = 150& 0 / 0& 0 / 0& & \\ \hline
  \end{tabular}
  \caption{$\mu = 200, \lambda = 1400$の場合の実行結果}
  \label{214}
 \end{center}
\end{table}

\subsubsection*{$\mu ,\lambda$の値}
以上の結果から$\mu = 200, \lambda = 1100$の時(表\ref{211})が最も良いと考えられる．今
回は試行回数が10回程度であり，とても十分とは言えない．例えば問題サイズ30
の疎結合問題を($\mu + \lambda$)-ESで解く場合，ほぼ100\%解けているが，表
\ref{14}, \ref{17}の場合のみ70\%, 90\%と失敗している．また，全体的には
($\mu + \lambda$)-ESよりも($\mu , \lambda$)-ESの成功率のほうが高いが，逆
転していることもあり，この結果だけではどちらの方が適しているか判断するこ
とができない．\\\ \ \ 
このように偶然の結
果が多くなってしまっていると考えられる．しかし，$\mu = 200, \lambda =
1100$の時(表\ref{211})の周辺では比較的良い結果が得られていることから，こ
の値はある程度信用できると考えられる．そのためパラメータは$\mu = 200,
\lambda = 1100$とする．

\section*{実験結果}
以下に上記パラメータで行った実験の結果を示す．表\ref{result}に成功/失敗の
表を示す．成功した場合はその時の世代数を示している．
ただし，以下の実験はパラメータを変える毎にプログラムを実行して
いるため，10回連続して計算した$\mu, \lambda$の調整時とは結果が異
なっている．表\ref{211}より，問題サイズ60の疎結合問題は50\%程度の確
率で解けるとなっているが，今回は失敗してしまった．成功した場合の図は図
\ref{30s}から\ref{150dp}に示す．

\begin{table}[htb]
 \begin{center}
  \begin{tabular}[tb]{|c||c|c||c|c|} \hline
   $\mu = 100, \lambda = 700$& \multicolumn{2}{c||}{疎結合問題} &
   \multicolumn{2}{c|}{密結合問題} \\ \cline{2-5}
   問題サイズN& ($\mu, \lambda$)-ES& ($\mu + \lambda$)-ES& ($\mu, \lambda$)-ES&
   ($\mu + \lambda$)-ES \\ \hline \hline
   N = 30& 14世代& 15世代& 21世代& 23世代\\ \hline
   N = 60& 失敗&失敗 & 48世代& 44世代\\ \hline
   N = 90& 失敗&失敗 & 76世代& 70世代\\ \hline
   N = 120& 失敗&失敗 & 112世代& 98世代\\ \hline
   N = 150& 失敗&失敗 & 162世代& 131世代\\ \hline
  \end{tabular}
  \caption{実行結果}
  \label{result}
 \end{center}
\end{table}

\clearpage
\subsubsection*{疎結合(問題サイズ30, ($\mu , \lambda$)-ES)}
15世代目で問題が解決した．
\begin{figure}[htb]
 \begin{center}
  \includegraphics[width=18cm, clip, bb=-200 0 584 349]{pic/30s.jpg}
  \caption{進化の過程(疎結合(問題サイズ30, ($\mu , \lambda$)-ES))}
  \label{30s}
 \end{center}
\end{figure}

\subsubsection*{疎結合(問題サイズ30, ($\mu + \lambda$)-ES)}
14世代目で問題が解決した．
\begin{figure}[htb]
 \begin{center}
  \includegraphics[width=18cm, clip, bb=-200 0 586 342]{pic/30sp.jpg}
  \caption{進化の過程(疎結合(問題サイズ30, ($\mu + \lambda$)-ES))}
  \label{30sp}
 \end{center}
\end{figure}

\clearpage
\subsubsection*{密結合(問題サイズ30, ($\mu , \lambda$)-ES)}
21世代目で問題が解決した．
\begin{figure}[htb]
 \begin{center}
  \includegraphics[width=18cm, clip, bb=-200 0 593 351]{pic/30d.jpg}
  \caption{進化の過程(密結合(問題サイズ30, ($\mu , \lambda$)-ES))}
  \label{30d}
 \end{center}
\end{figure}

\subsubsection*{密結合(問題サイズ30, ($\mu + \lambda$)-ES)}
23世代目で問題が解決した．
\begin{figure}[htb]
 \begin{center}
  \includegraphics[width=18cm, clip, bb=-200 0 587 351]{pic/30dp.jpg}
  \caption{進化の過程(密結合(問題サイズ30, ($\mu + \lambda$)-ES))}
  \label{30dp}
 \end{center}
\end{figure}

\clearpage
\subsubsection*{密結合(問題サイズ60, ($\mu , \lambda$)-ES)}
48世代目で問題が解決した．
\begin{figure}[htb]
 \begin{center}
  \includegraphics[width=18cm, clip, bb=-200 0 589 346]{pic/60d.jpg}
  \caption{進化の過程(密結合(問題サイズ60, ($\mu , \lambda$)-ES))}
  \label{60d}
 \end{center}
\end{figure}

\subsubsection*{密結合(問題サイズ60, ($\mu + \lambda$)-ES)}
44世代目で問題が解決した．
\begin{figure}[htb]
 \begin{center}
  \includegraphics[width=18cm, clip, bb=-200 0 590 354]{pic/60dp.jpg}
  \caption{進化の過程(密結合(問題サイズ60, ($\mu + \lambda$)-ES))}
  \label{60dp}
 \end{center}
\end{figure}

\clearpage
\subsubsection*{密結合(問題サイズ90, ($\mu , \lambda$)-ES)}
76世代目で問題が解決した．
\begin{figure}[htb]
 \begin{center}
  \includegraphics[width=18cm, clip, bb=-200 0 593 352]{pic/90d.jpg}
  \caption{進化の過程(密結合(問題サイズ90, ($\mu , \lambda$)-ES))}
  \label{90d}
 \end{center}
\end{figure}

\subsubsection*{密結合(問題サイズ90, ($\mu + \lambda$)-ES)}
70世代目で問題が解決した．
\begin{figure}[htb]
 \begin{center}
  \includegraphics[width=18cm, clip, bb=-200 0 591 352]{pic/90dp.jpg}
  \caption{進化の過程(密結合(問題サイズ90, ($\mu + \lambda$)-ES))}
  \label{90dp}
 \end{center}
\end{figure}

\clearpage
\subsubsection*{密結合(問題サイズ120, ($\mu , \lambda$)-ES)}
112世代目で問題が解決した．
\begin{figure}[htb]
 \begin{center}
  \includegraphics[width=18cm, clip, bb=-200 0 591 352]{pic/120d.jpg}
  \caption{進化の過程(密結合(問題サイズ120, ($\mu , \lambda$)-ES))}
  \label{120d}
 \end{center}
\end{figure}

\subsubsection*{密結合(問題サイズ120, ($\mu + \lambda$)-ES)}
98世代目で問題が解決した．
\begin{figure}[htb]
 \begin{center}
  \includegraphics[width=18cm, clip, bb=-200 0 594 348]{pic/120dp.jpg}
  \caption{進化の過程(密結合(問題サイズ120, ($\mu + \lambda$)-ES))}
  \label{120dp}
 \end{center}
\end{figure}

\clearpage
\subsubsection*{密結合(問題サイズ150, ($\mu , \lambda$)-ES)}
162世代目で問題が解決した．
\begin{figure}[htb]
 \begin{center}
  \includegraphics[width=18cm, clip, bb=-200 0 591 352]{pic/150d.jpg}
  \caption{進化の過程(密結合(問題サイズ150, ($\mu , \lambda$)-ES))}
  \label{150d}
 \end{center}
\end{figure}

\subsubsection*{密結合(問題サイズ150, ($\mu + \lambda$)-ES)}
131世代目で問題が解決した．
\begin{figure}[htb]
 \begin{center}
  \includegraphics[width=18cm, clip, bb=-200 0 591 351]{pic/150d.jpg}
  \caption{進化の過程(密結合(問題サイズ150, ($\mu + \lambda$)-ES))}
  \label{150dp}
 \end{center}
\end{figure}




\clearpage
\subsection*{ソースコード}
以下に作成したソースコードを示す．ただし，必要と思われる部分のみ示してい
る．また，($\mu, \lambda$)-ESの場合のみ示し，($\mu + \lambda$)-ESの場合
は省略している．

\begin{lstlisting}[caption=ES.c, label=ES.c, xleftmargin=1cm]
#define RED 0
#define GREEN 1
#define BLUE 2

// for qsort
int compare_int(const void *a, const void *b){
  return *(int*)a - *(int*)b;
}

// main
int main(void){
  
  // seed 509
  srand(509);
  
  int select = 1;

  const int size[5] = {30, 60, 90, 120, 150}; // number of nodes
  const int N = size[select]; // which to use? NN[0] to NN[4] or something int value
  const int maxloop = 1000; // the maximum number of iterations for ES

  int mu = 100; // number of parents
  int lambda = 600; // number of children

  int graph[N][N];  // AdjacencyMatrix
  int parent[mu][N+1]; // (parent solution + violation point) * mu
  int children[lambda][N+1]; // (children solution + violation point) * lambda
  int violation = 0; // violation point
  int maxVP[maxloop]; // max violation point in children for output
  int aveVP[maxloop]; // ave violation point in children for output
  int minVP[maxloop]; // min violation point in children for output
  int sum = 0;// for aveVP
  int sortedArrayC[lambda]; // use for sort children
  int sp = 0; // selected parent
  int mutantGene = 0; // selected mutant gene

  // init
  // input AdjacencyMatrix

  // start Evolution Strategy
  // make initial value(input RED or GREEN or BLUE to solutions)
  for(i=0; i<mu; i++){
    for(j=0; j<N; j++){
      parent[i][j] = 3.0 * (rand()/(RAND_MAX+1.0));
    }
  }

   // calc violation points
  for(l=0; l<mu; l++){
    violation = 0;
    for(i=0; i<N; i++){      
      for(j=0; j<N; j++){
        if(graph[i][j] == 1 && parent[l][i] == parent[l][j]){
          violation++;
        }        
      }
    }
    parent[l][N] = violation;
  }

  // start generation loop
  for(k=0; k<maxloop; k++){
    
    //make children
    for(l=0; l<lambda; l++){
      sp = mu * (rand()/(RAND_MAX+1.0)); // select parent
      mutantGene = N * (rand()/(RAND_MAX+1.0)); // select mutant gene
      
      // copy parent[sp] to children[l]
      for(i=0; i<N; i++){
        children[l][i] = parent[sp][i];
      }
      // mutation
      children[l][mutantGene] = 3 * (rand()/(RAND_MAX+1.0)) + 1.0;
      // end make children
    }
    
    // calc violation point
    sum = 0;
    for(l=0; l<lambda; l++){
      violation = 0;
      for(i=0; i<N; i++){      
        for(j=0; j<N; j++){
          if(graph[i][j] == 1 && children[l][i] == children[l][j]){
            violation++;
          }        
        }
      }
      children[l][N] = violation;
      sum += violation;
      sortedArrayC[l] = violation;
    }

    // sort by violation point
    qsort(sortedArrayC, lambda, sizeof(int), compare_int);

    // input gene's index from to sortedArray
    // (mu, lambda)-ES, input index. ex) if sortedArrayC[0] = 5 then it means children[5][N] 
    if(plus == 0){
      for(i=0; i<lambda; i++){
        for(j=0; j<lambda; j++){
          if(sortedArrayC[i] == children[j][N]){
            sortedArrayC[i] = j;
            children[j][N] *= -1; // check to selected gene
            break;
          }
        }
      }
    }

    // remove check
    for(i=0; i<lambda; i++){
      children[i][N] *= -1;
    }
    // end sort

    // input max, ave, min
    maxVP[k] = children[sortedArrayC[lambda - 1]][N];
    aveVP[k] = sum / lambda;
    minVP[k] = children[sortedArrayC[0]][N];

    // end determination
    if(minVP[k] == 0){
      printf("completed!!  %dloop\n", k);
      return 0;
    }

    // make next generation
    for(i=0; i<mu; i++){
      for(j=0; j<=N; j++){
        parent[i][j] = children[sortedArrayC[i]][j];
      }
    }
  // end generation loop
  }

\end{lstlisting}


\end{document}
